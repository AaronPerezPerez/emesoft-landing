---
import { company } from '../data/company';
---

<section class="relative min-h-[100vh] overflow-hidden bg-[#0a1628]">
  <!-- === BACKGROUND LAYERS === -->

  <!-- Base gradient mesh -->
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-gradient-to-br from-[#0a1628] via-[#112240] to-[#0a1628]"></div>
    <!-- Animated gradient orbs -->
    <div class="absolute top-0 right-0 w-[800px] h-[800px] -translate-y-1/3 translate-x-1/4">
      <div class="absolute inset-0 bg-gradient-to-br from-primary/30 via-accent/20 to-transparent rounded-full blur-[100px] animate-pulse-slow"></div>
    </div>
    <div class="absolute bottom-0 left-0 w-[600px] h-[600px] translate-y-1/3 -translate-x-1/4">
      <div class="absolute inset-0 bg-gradient-to-tr from-primary/20 via-accent/10 to-transparent rounded-full blur-[80px] animate-pulse-slow" style="animation-delay: 1s"></div>
    </div>
  </div>

  <!-- Geometric grid overlay -->
  <div class="absolute inset-0 opacity-[0.03]" style="background-image: linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 60px 60px;"></div>

  <!-- Diagonal accent line -->
  <div class="absolute top-0 right-0 w-[2px] h-[40vh] bg-gradient-to-b from-accent via-accent/50 to-transparent origin-top" style="transform: rotate(-15deg) translateX(200px);"></div>

  <!-- === MAIN CONTENT === -->
  <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 lg:pt-32">

    <!-- Top bar: Badge -->
    <div class="flex items-center justify-start mb-12 lg:mb-16" data-animate>
      <span class="inline-flex items-center gap-2 px-4 py-2 bg-white/5 backdrop-blur-sm border border-white/10 rounded-full text-sm text-white/80">
        <span class="w-2 h-2 bg-accent rounded-full animate-pulse"></span>
        Desde {company.foundedYear} en Canarias
      </span>
    </div>

    <!-- === HERO GRID === -->
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12 items-center">

      <!-- LEFT: Content -->
      <div class="lg:col-span-6 xl:col-span-5 order-2 lg:order-1">

        <!-- YEARS: The hero number -->
        <div class="relative mb-6" data-animate style="animation-delay: 100ms">
          <div class="flex items-baseline gap-3">
            <span class="hero-years font-display text-[120px] sm:text-[150px] lg:text-[180px] font-black leading-none text-transparent bg-clip-text bg-gradient-to-br from-white via-white/90 to-white/40" data-count="33">
              0
            </span>
            <div class="flex flex-col">
              <span class="text-accent font-bold text-xl sm:text-2xl">años</span>
              <span class="text-white/50 text-sm sm:text-base">de experiencia</span>
            </div>
          </div>
          <!-- Decorative underline -->
          <div class="absolute -bottom-2 left-0 w-32 h-1 bg-gradient-to-r from-accent to-transparent rounded-full"></div>
        </div>

        <!-- Headline -->
        <h1 class="font-display text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6 leading-[1.15]" data-animate style="animation-delay: 200ms">
          Software Especializado
          <span class="block text-transparent bg-clip-text bg-gradient-to-r from-accent via-sky-400 to-accent bg-[length:200%_auto] animate-gradient">
            para su Empresa
          </span>
        </h1>

        <!-- Subtitle -->
        <p class="text-lg sm:text-xl text-white/70 mb-8 leading-relaxed max-w-lg" data-animate style="animation-delay: 300ms">
          Soluciones que entienden su sector y crecen con su negocio. El mismo equipo que desarrolla le da soporte.
        </p>

        <!-- CTAs -->
        <div class="flex flex-col sm:flex-row gap-4 mb-10" data-animate style="animation-delay: 400ms">
          <a
            href="#contacto"
            class="group relative px-8 py-4 bg-accent text-white font-bold rounded-xl overflow-hidden transition-all duration-300 hover:shadow-[0_0_40px_rgba(0,180,216,0.4)] flex items-center justify-center gap-2"
          >
            <span class="relative z-10">Solicitar demostración</span>
            <svg class="relative z-10 w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
            <div class="absolute inset-0 bg-gradient-to-r from-accent to-sky-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
          </a>
          <a
            href="tel:922217111"
            class="group px-8 py-4 border border-white/20 text-white font-semibold rounded-xl hover:bg-white/5 hover:border-white/40 transition-all duration-300 flex items-center justify-center gap-2"
          >
            <svg class="w-5 h-5 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
            922 217 111
          </a>
        </div>

        <!-- Trust indicators -->
        <div class="flex flex-wrap gap-6 text-sm" data-animate style="animation-delay: 500ms">
          <div class="flex items-center gap-2 text-white/60">
            <svg class="w-5 h-5 text-accent" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" />
              <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd" />
            </svg>
            <span>Formación incluida</span>
          </div>
          <div class="flex items-center gap-2 text-white/60">
            <svg class="w-5 h-5 text-accent" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
            </svg>
            <span>Soporte 24/7</span>
          </div>
          <div class="flex items-center gap-2 text-white/60">
            <svg class="w-5 h-5 text-accent" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
            </svg>
            <span>Empresa local</span>
          </div>
        </div>
      </div>

      <!-- RIGHT: Abstract Software Illustration -->
      <div class="lg:col-span-6 xl:col-span-7 order-1 lg:order-2 relative" data-animate style="animation-delay: 200ms">
        <!-- Glow behind illustration -->
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%]">
          <div class="absolute inset-0 bg-gradient-to-br from-primary/30 via-accent/15 to-transparent rounded-full blur-[80px]"></div>
        </div>

        <!-- Archipiélago Digital: Constelación de las 8 Islas Canarias -->
        <div class="relative w-full min-h-[350px] lg:min-h-[450px] archipelago-container">
          <svg class="w-full h-full" viewBox="0 0 500 400" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <!-- Gradientes para nodos -->
              <radialGradient id="nodeGlowGradient" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#00B4D8" stop-opacity="0.6"/>
                <stop offset="70%" stop-color="#00B4D8" stop-opacity="0.1"/>
                <stop offset="100%" stop-color="#00B4D8" stop-opacity="0"/>
              </radialGradient>
              <radialGradient id="tenerifeGlow" cx="50%" cy="50%" r="50%">
                <stop offset="0%" stop-color="#00B4D8" stop-opacity="0.8"/>
                <stop offset="40%" stop-color="#48CAE4" stop-opacity="0.4"/>
                <stop offset="100%" stop-color="#00B4D8" stop-opacity="0"/>
              </radialGradient>
              <linearGradient id="connectionGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#1E3A5F" stop-opacity="0.2"/>
                <stop offset="50%" stop-color="#00B4D8" stop-opacity="0.5"/>
                <stop offset="100%" stop-color="#1E3A5F" stop-opacity="0.2"/>
              </linearGradient>
              <linearGradient id="nodeCore" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#48CAE4"/>
                <stop offset="100%" stop-color="#00B4D8"/>
              </linearGradient>

              <!-- Filtro glow -->
              <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="4" result="blur"/>
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
              <filter id="softGlow" x="-100%" y="-100%" width="300%" height="300%">
                <feGaussianBlur stdDeviation="8" result="blur"/>
                <feMerge>
                  <feMergeNode in="blur"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>

            <!-- Capa 0: Atmósfera de fondo - partículas estelares -->
            <g class="stars" opacity="0.4">
              <circle cx="50" cy="60" r="1" fill="white" class="twinkle" style="--delay: 0s"/>
              <circle cx="130" cy="30" r="0.8" fill="white" class="twinkle" style="--delay: 1.2s"/>
              <circle cx="200" cy="50" r="1.2" fill="white" class="twinkle" style="--delay: 0.5s"/>
              <circle cx="280" cy="25" r="0.6" fill="white" class="twinkle" style="--delay: 2s"/>
              <circle cx="350" cy="45" r="1" fill="white" class="twinkle" style="--delay: 0.8s"/>
              <circle cx="450" cy="35" r="0.8" fill="white" class="twinkle" style="--delay: 1.5s"/>
              <circle cx="480" cy="90" r="0.7" fill="white" class="twinkle" style="--delay: 2.5s"/>
              <circle cx="40" cy="150" r="0.9" fill="white" class="twinkle" style="--delay: 1s"/>
              <circle cx="470" cy="250" r="1.1" fill="white" class="twinkle" style="--delay: 0.3s"/>
              <circle cx="30" cy="300" r="0.8" fill="white" class="twinkle" style="--delay: 1.8s"/>
              <circle cx="100" cy="350" r="1" fill="white" class="twinkle" style="--delay: 2.2s"/>
              <circle cx="380" cy="350" r="0.7" fill="white" class="twinkle" style="--delay: 0.7s"/>
              <circle cx="450" cy="320" r="0.9" fill="white" class="twinkle" style="--delay: 1.4s"/>
            </g>

            <!-- Capa 1: Conexiones entre islas (orgánicas) -->
            <g class="connections breathe">
              <!-- El Hierro - La Gomera -->
              <path d="M62 300 Q90 280 125 260" stroke="url(#connectionGrad)" stroke-width="1" fill="none" stroke-linecap="round" opacity="0.4"/>
              <!-- La Palma - Tenerife -->
              <path d="M88 140 Q130 160 185 195" stroke="url(#connectionGrad)" stroke-width="1.5" fill="none" stroke-linecap="round"/>
              <!-- Tenerife - La Gomera -->
              <path d="M190 220 Q165 240 140 255" stroke="url(#connectionGrad)" stroke-width="1.5" fill="none" stroke-linecap="round"/>
              <!-- Tenerife - Gran Canaria -->
              <path d="M225 205 Q270 215 305 225" stroke="url(#connectionGrad)" stroke-width="2" fill="none" stroke-linecap="round"/>
              <!-- Gran Canaria - Fuerteventura -->
              <path d="M345 220 Q370 195 390 175" stroke="url(#connectionGrad)" stroke-width="1.5" fill="none" stroke-linecap="round"/>
              <!-- Fuerteventura - Lanzarote -->
              <path d="M405 150 Q410 120 408 100" stroke="url(#connectionGrad)" stroke-width="1.5" fill="none" stroke-linecap="round"/>
              <!-- Lanzarote - La Graciosa -->
              <path d="M415 75 Q420 60 422 50" stroke="url(#connectionGrad)" stroke-width="1" fill="none" stroke-linecap="round" opacity="0.5"/>
              <!-- Gran Canaria - Lanzarote (línea larga sutil) -->
              <path d="M340 210 Q380 140 400 95" stroke="url(#connectionGrad)" stroke-width="0.8" fill="none" stroke-linecap="round" opacity="0.25"/>
            </g>

            <!-- Capa 2: Nodos de las 8 islas (tamaños proporcionales a superficie real) -->
            <g class="islands">
              <!-- El Hierro: 269 km² - suroeste, la más occidental -->
              <g class="island el-hierro">
                <circle cx="55" cy="310" r="16" fill="url(#nodeGlowGradient)" class="node-glow" style="--delay: 0.2s"/>
                <circle cx="55" cy="310" r="7" fill="#0a1628" stroke="url(#nodeCore)" stroke-width="1.5"/>
                <circle cx="55" cy="310" r="3.5" fill="url(#nodeCore)" class="pulse-node" style="--delay: 0.2s"/>
              </g>

              <!-- La Gomera: 370 km² - suroeste de Tenerife, pequeña y cercana -->
              <g class="island la-gomera">
                <circle cx="130" cy="265" r="18" fill="url(#nodeGlowGradient)" class="node-glow" style="--delay: 0.8s"/>
                <circle cx="130" cy="265" r="8" fill="#0a1628" stroke="url(#nodeCore)" stroke-width="1.5"/>
                <circle cx="130" cy="265" r="4" fill="url(#nodeCore)" class="pulse-node" style="--delay: 0.8s"/>
              </g>

              <!-- La Palma: 708 km² - noroeste -->
              <g class="island la-palma">
                <circle cx="75" cy="130" r="24" fill="url(#nodeGlowGradient)" class="node-glow" style="--delay: 0.5s"/>
                <circle cx="75" cy="130" r="11" fill="#0a1628" stroke="url(#nodeCore)" stroke-width="2"/>
                <circle cx="75" cy="130" r="5.5" fill="url(#nodeCore)" class="pulse-node" style="--delay: 0.5s"/>
              </g>

              <!-- TENERIFE: 2,034 km² - centro, la mayor, sede EMESOFT -->
              <g class="island tenerife">
                <circle cx="200" cy="200" r="55" fill="url(#tenerifeGlow)" class="tenerife-aura" filter="url(#softGlow)"/>
                <circle cx="200" cy="200" r="28" fill="#0a1628" stroke="#00B4D8" stroke-width="1" stroke-opacity="0.3"/>
                <circle cx="200" cy="200" r="22" fill="#0a1628" stroke="url(#nodeCore)" stroke-width="3"/>
                <circle cx="200" cy="200" r="12" fill="url(#nodeCore)" class="pulse-node tenerife-core" style="--delay: 0s"/>
                <!-- Anillo exterior de Tenerife -->
                <circle cx="200" cy="200" r="35" fill="none" stroke="#00B4D8" stroke-width="0.5" stroke-opacity="0.2" stroke-dasharray="3 6"/>
              </g>

              <!-- Gran Canaria: 1,560 km² - este de Tenerife -->
              <g class="island gran-canaria">
                <circle cx="320" cy="230" r="42" fill="url(#nodeGlowGradient)" class="node-glow" style="--delay: 0.3s"/>
                <circle cx="320" cy="230" r="18" fill="#0a1628" stroke="url(#nodeCore)" stroke-width="2.5"/>
                <circle cx="320" cy="230" r="9" fill="url(#nodeCore)" class="pulse-node" style="--delay: 0.3s"/>
              </g>

              <!-- Fuerteventura: 1,660 km² - este, segunda más grande -->
              <g class="island fuerteventura">
                <circle cx="400" cy="165" r="36" fill="url(#nodeGlowGradient)" class="node-glow" style="--delay: 1s"/>
                <circle cx="400" cy="165" r="16" fill="#0a1628" stroke="url(#nodeCore)" stroke-width="2.5"/>
                <circle cx="400" cy="165" r="8" fill="url(#nodeCore)" class="pulse-node" style="--delay: 1s"/>
              </g>

              <!-- Lanzarote: 846 km² - noreste -->
              <g class="island lanzarote">
                <circle cx="405" cy="85" r="26" fill="url(#nodeGlowGradient)" class="node-glow" style="--delay: 0.6s"/>
                <circle cx="405" cy="85" r="12" fill="#0a1628" stroke="url(#nodeCore)" stroke-width="2"/>
                <circle cx="405" cy="85" r="6" fill="url(#nodeCore)" class="pulse-node" style="--delay: 0.6s"/>
              </g>

              <!-- La Graciosa: 29 km² - encima de Lanzarote, diminuta -->
              <g class="island la-graciosa">
                <circle cx="420" cy="48" r="6" fill="url(#nodeGlowGradient)" class="node-glow" style="--delay: 1.2s"/>
                <circle cx="420" cy="48" r="3" fill="#0a1628" stroke="url(#nodeCore)" stroke-width="1"/>
                <circle cx="420" cy="48" r="1.5" fill="url(#nodeCore)" class="pulse-node" style="--delay: 1.2s"/>
              </g>
            </g>

            <!-- Capa 3: Satélites orbitando Tenerife (3 productos) -->
            <g class="satellites">
              <!-- EMESPORT -->
              <g class="satellite orbit-1">
                <circle r="5" fill="#00B4D8" opacity="0.8">
                  <animateMotion dur="25s" repeatCount="indefinite">
                    <mpath href="#orbitPath1"/>
                  </animateMotion>
                </circle>
              </g>
              <!-- EMESERVICE -->
              <g class="satellite orbit-2">
                <circle r="4" fill="#48CAE4" opacity="0.7">
                  <animateMotion dur="30s" repeatCount="indefinite" begin="-10s">
                    <mpath href="#orbitPath2"/>
                  </animateMotion>
                </circle>
              </g>
              <!-- EMECLINIC -->
              <g class="satellite orbit-3">
                <circle r="4.5" fill="#90E0EF" opacity="0.6">
                  <animateMotion dur="35s" repeatCount="indefinite" begin="-20s">
                    <mpath href="#orbitPath3"/>
                  </animateMotion>
                </circle>
              </g>
              <!-- Órbitas invisibles centradas en Tenerife (200, 200) -->
              <path id="orbitPath1" d="M200 160 A40 40 0 1 1 200 240 A40 40 0 1 1 200 160" fill="none"/>
              <path id="orbitPath2" d="M200 150 A50 50 0 1 1 200 250 A50 50 0 1 1 200 150" fill="none"/>
              <path id="orbitPath3" d="M200 140 A60 60 0 1 1 200 260 A60 60 0 1 1 200 140" fill="none"/>
            </g>

            <!-- Capa 4: Partículas flotantes adicionales -->
            <g class="floating-particles">
              <circle cx="170" cy="120" r="2" fill="#00B4D8" opacity="0.5" class="float-particle" style="--delay: 0s"/>
              <circle cx="280" cy="150" r="1.5" fill="#48CAE4" opacity="0.4" class="float-particle" style="--delay: 1s"/>
              <circle cx="360" cy="250" r="2" fill="#00B4D8" opacity="0.4" class="float-particle" style="--delay: 2s"/>
              <circle cx="140" cy="220" r="1.8" fill="#90E0EF" opacity="0.5" class="float-particle" style="--delay: 0.5s"/>
              <circle cx="300" cy="280" r="1.5" fill="#48CAE4" opacity="0.3" class="float-particle" style="--delay: 1.5s"/>
              <circle cx="450" cy="200" r="2" fill="#00B4D8" opacity="0.4" class="float-particle" style="--delay: 2.5s"/>
            </g>
          </svg>
        </div>

      </div>
    </div>

    <!-- Spacer for wave -->
    <div class="pb-16 lg:pb-24"></div>

    <!-- Scroll indicator -->
    <div class="absolute bottom-20 lg:bottom-24 left-1/2 -translate-x-1/2 flex flex-col items-center gap-1">
      <span class="text-white/80 text-xs tracking-widest uppercase hidden sm:block">Scroll</span>
      <a href="#productos" class="scroll-indicator group">
        <div class="w-8 h-12 rounded-full border-2 border-white/40 flex items-start justify-center pt-2 group-hover:border-accent transition-colors">
          <div class="w-1.5 h-3 bg-white/80 rounded-full scroll-dot group-hover:bg-accent transition-colors"></div>
        </div>
      </a>
    </div>
  </div>

  <!-- === WAVE TRANSITION === -->
  <div class="absolute bottom-0 left-0 right-0">
    <svg class="w-full h-20 lg:h-32" viewBox="0 0 1440 128" preserveAspectRatio="none" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 128V64C360 96 720 32 1080 64C1260 80 1380 72 1440 64V128H0Z" fill="#F9FAFB"/>
    </svg>
  </div>
</section>

<style>
  @keyframes pulse-slow {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.05); }
  }

  .animate-pulse-slow {
    animation: pulse-slow 8s ease-in-out infinite;
  }

  @keyframes gradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .animate-gradient {
    animation: gradient 4s ease infinite;
  }

  [data-animate] {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1), transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }

  [data-animate].animate-in {
    opacity: 1;
    transform: translateY(0);
  }

  /* Hero years counter animation */
  .hero-years {
    transition: all 0.1s ease-out;
  }

  /* === ARCHIPIÉLAGO DIGITAL ANIMATIONS === */

  /* Contenedor con float sutil */
  .archipelago-container svg {
    animation: archipelago-float 12s ease-in-out infinite;
  }

  @keyframes archipelago-float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
  }

  /* Estrellas de fondo que parpadean */
  .twinkle {
    animation: twinkle 3s ease-in-out infinite;
    animation-delay: var(--delay, 0s);
  }

  @keyframes twinkle {
    0%, 100% { opacity: 0.2; }
    50% { opacity: 0.8; }
  }

  /* Respiración de conexiones */
  .breathe {
    animation: breathe 6s ease-in-out infinite;
  }

  @keyframes breathe {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.6; }
  }

  /* Glow de nodos que pulsa */
  .node-glow {
    animation: node-glow-pulse 4s ease-in-out infinite;
    animation-delay: var(--delay, 0s);
  }

  @keyframes node-glow-pulse {
    0%, 100% { opacity: 0.4; transform: scale(1); }
    50% { opacity: 0.7; transform: scale(1.1); }
  }

  /* Pulso del núcleo de cada nodo */
  .pulse-node {
    animation: pulse-node 3s ease-in-out infinite;
    animation-delay: var(--delay, 0s);
  }

  @keyframes pulse-node {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
  }

  /* Aura especial de Tenerife */
  .tenerife-aura {
    animation: tenerife-aura 5s ease-in-out infinite;
  }

  @keyframes tenerife-aura {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.05); }
  }

  /* Pulso más pronunciado para Tenerife */
  .tenerife-core {
    animation: tenerife-core-pulse 2.5s ease-in-out infinite;
  }

  @keyframes tenerife-core-pulse {
    0%, 100% { opacity: 0.8; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.08); }
  }

  /* Partículas flotantes */
  .float-particle {
    animation: float-particle 8s ease-in-out infinite;
    animation-delay: var(--delay, 0s);
  }

  @keyframes float-particle {
    0%, 100% { transform: translateY(0) translateX(0); opacity: 0.3; }
    25% { transform: translateY(-5px) translateX(3px); opacity: 0.6; }
    50% { transform: translateY(-8px) translateX(0); opacity: 0.4; }
    75% { transform: translateY(-3px) translateX(-3px); opacity: 0.5; }
  }

  /* Los satélites ya tienen animateMotion en el SVG */
  /* Añadimos un glow sutil a los satélites */
  .satellite circle {
    filter: drop-shadow(0 0 3px rgba(0, 180, 216, 0.6));
  }

  /* Scroll indicator - mouse style */
  .scroll-dot {
    animation: scroll-dot 2s ease-in-out infinite;
  }

  @keyframes scroll-dot {
    0%, 100% { transform: translateY(0); opacity: 1; }
    50% { transform: translateY(12px); opacity: 0.3; }
  }
</style>

<script>
  // Intersection Observer for animations
  const animateOnScroll = () => {
    const elements = document.querySelectorAll('[data-animate]');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-in');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

    elements.forEach(el => observer.observe(el));
  };

  // Counter animation
  const animateCounters = () => {
    const counters = document.querySelectorAll('[data-count]');

    counters.forEach(counter => {
      const target = parseInt(counter.getAttribute('data-count') || '0');
      const suffix = counter.getAttribute('data-suffix') || '';
      const duration = 2000;
      const start = performance.now();

      const updateCounter = (currentTime: number) => {
        const elapsed = currentTime - start;
        const progress = Math.min(elapsed / duration, 1);

        // Easing function for smooth deceleration
        const easeOut = 1 - Math.pow(1 - progress, 3);
        const current = Math.floor(easeOut * target);

        counter.textContent = current + suffix;

        if (progress < 1) {
          requestAnimationFrame(updateCounter);
        } else {
          counter.textContent = target + suffix;
        }
      };

      // Start counter when element is visible
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            requestAnimationFrame(updateCounter);
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.5 });

      observer.observe(counter);
    });
  };

  // Initialize
  document.addEventListener('DOMContentLoaded', () => {
    animateOnScroll();
    animateCounters();
  });

  // Re-run on Astro page transitions
  document.addEventListener('astro:page-load', () => {
    animateOnScroll();
    animateCounters();
  });
</script>
