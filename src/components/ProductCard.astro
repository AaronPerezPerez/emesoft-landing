---
import type { Product } from '../types';

interface Props {
  product: Product;
}

const { product } = Astro.props;
---

<a
  href={`#${product.id}`}
  class="group block relative"
  style={`--product-color: ${product.color}`}
>
  <!-- Sombra como capa inferior -->
  <div class="absolute inset-0 bg-primary/5 rounded-2xl translate-x-1 translate-y-1 group-hover:translate-x-2 group-hover:translate-y-2 transition-transform duration-300"></div>

  <!-- Card principal -->
  <div class="relative bg-white rounded-2xl p-6 border border-gray-100 group-hover:border-primary/30 transition-all duration-300 overflow-hidden">
    <!-- Acento superior con gradiente -->
    <div class="absolute inset-x-0 top-0 h-0.5 bg-gradient-to-r from-transparent via-primary/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-t-2xl"></div>

    <!-- Product Image -->
    <div class="relative mb-6 flex justify-center">
      <div class="relative">
        <!-- Glow effect on hover -->
        <div
          class="absolute inset-0 blur-2xl opacity-0 group-hover:opacity-30 transition-opacity duration-500 rounded-full"
          style={`background: ${product.color}`}
        ></div>
        <img
          src={product.image}
          alt={`${product.name} - ${product.tagline}`}
          class="relative h-40 lg:h-48 w-auto object-contain transition-transform duration-500 group-hover:scale-110 group-hover:-rotate-3"
          loading="lazy"
        />
      </div>
    </div>

    <!-- Content -->
    <div class="text-center">
      <h3 class="font-body text-sm font-bold text-gray-900 uppercase tracking-wider mb-2 group-hover:text-primary transition-colors">
        {product.name}
      </h3>
      <p class="text-gray-600 text-sm leading-relaxed">
        {product.tagline}
      </p>

      <!-- Hover CTA -->
      <div class="mt-4 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0">
        <span class="inline-flex items-center text-sm font-semibold" style={`color: ${product.color}`}>
          Más información
          <svg class="w-4 h-4 ml-1 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </span>
      </div>
    </div>
  </div>
</a>
